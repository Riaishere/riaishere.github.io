ROSTemplateFormatVersion: '2015-09-01'
Transform: 'Aliyun::Serverless-2018-04-03'
Resources:
  personal_website:
    Type: 'Aliyun::Serverless::Service'
    Properties:
      Description: '个人网站服务'
    # 静态网站托管函数
    personal_website:
      Type: 'Aliyun::Serverless::Function'
      Properties:
        Description: '个人网站主函数'
        CodeUri: './'
        Handler: index.handler
        Runtime: nodejs20
        Timeout: 60
        MemorySize: 256
        EnvironmentVariables:
          DEEPSEEK_API_KEY: '你的DeepSeek API密钥'
        Events:
          httpTrigger:
            Type: HTTP
            Properties:
              AuthType: ANONYMOUS
              Methods:
                - GET
    # AI聊天API函数
    chat_api:
      Type: 'Aliyun::Serverless::Function'
      Properties:
        Description: 'AI聊天API接口'
        CodeUri: './'
        Handler: api/chat.handler
        Runtime: nodejs20
        Timeout: 60
        MemorySize: 256
        EnvironmentVariables:
          DEEPSEEK_API_KEY: '你的DeepSeek API密钥' # 请务必替换成你自己的密钥
        Events:
          httpTrigger:
            Type: HTTP
            Properties:
              AuthType: ANONYMOUS
              Methods:
                - POST
                - OPTIONS 